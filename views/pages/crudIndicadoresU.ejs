<!DOCTYPE html>
<html>
    <head>
        <% include ../partials/header %>
    </head>

    <body>

        <div class="wrapper">
            <!-- Sidebar Holder -->
            <% include ../partials/latAdmin %>
            <!-- Page Content Holder -->
            <div id="content">

                <nav class="navbar navbar-default">
                    <div class="container-fluid">

                        <div class="navbar-header">
                            <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
                                <i class="glyphicon glyphicon-leaf"></i>
                                <span></span>
                            </button>
                            <form action="/indicador" id="compsub">
                                <button type="submit" onclick=" return updateIndicador(<%=indicador.ID%>);" style="visibility: hidden;"  id="savebutton" class="btn btn-info navbar-btn" >Guardar cambios</button>
                                <p style="color: #f00;" id="error"></p>
                            </form>
                        </div>

                        <div style="float: right;">
                            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                <form action="/logout">
                                    <button type="submit" class="btn btn-info navbar-btn">Cerrar Sesión</button>
                                </form>
                            </div>                           
                        </div>
                    </div>
                    <h3>Administración/Indicadores/Actualizar indicador</h3>
                    <div style="margin: 20px;">
                        <form>
                            
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Código</label>
                                    <input type="text" disabled="" class="form-control" id="Codigo" value="<%=indicador.Codigo%>">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="Valor">Valor</label>
                                    <input type="text" disabled="" class="form-control" id="Valor" value="<%=indicador.Valor%>%">
                                </div>
                            </div>

                            <div class="form-group">
                            <label for="Nombre">Nombre</label>
                                <textarea class="form-control" style="resize: none;" id="Nombre" onchange="updateComponent(this.id);" rows="3"><%=indicador.Nombre%></textarea>
                            </div>

                            <div class="form-group">
                            <label for="Descripcion">Descripción</label>
                                <textarea class="form-control" style="resize: none;" id="Descripcion" onchange="updateComponent(this.id)" rows="3"><%=indicador.Descripcion%></textarea>
                            </div>

                            <div class="form-group">
                                <label for="Subcomponente">Subcomponente</label>
                                <select  id="Subcomponente" class="form-control" onchange="updateComponent(this.id)">
                                        <option selected="" value="<%=indicador.Subcomponente_ID%>"><%=indicador.Subcomponente%></option>
                                        <%subs.forEach(function(sub){%>
                                            <%if(sub.ID != indicador.Subcomponente_ID){%>
                                            <option value="<%=sub.ID%>"><%=sub.Nombre%></option>
                                            <%}%>
                                        <%});%>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="Medida">Medida</label>
                                <input type="text" disabled="" class="form-control" id="Medida" value="<%=indicador.Medida%>">
                            </div>

                            <div class="form-group">
                                <label for="Formula">Fórmula</label>
                                <input type="text" class="form-control" id="Formula" onchange="updateComponent(this.id)"  value="<%=indicador.Formula%>">
                            </div>

                            <div class="form-group">
                                <label for="Fuente">Fuente</label>
                                <input type="text" class="form-control" id="Fuente" onchange="updateComponent(this.id)" value="<%=indicador.Fuente%>">
                            </div>

                            <div class="form-group">
                                <label for="Url">URL</label>
                                <input type="text" class="form-control" id="Url" onchange="updateComponent(this.id)" value="<%=indicador.Url%>">
                            </div>

                            <div class="form-group">
                                <label for="Responsable">Responsable</label>
                                <input type="text" class="form-control" id="Responsable" onchange="updateComponent(this.id)" value="<%=indicador.Responsable%>">
                            </div>

                            <div class="form-group">
                                <label for="Periodo">Periodo</label>
                                <input type="text" class="form-control" id="Periodo" onchange="updateComponent(this.id)" value="<%=indicador.Periodo%>">
                            </div>

                            <div class="form-group">
                                <label for="Frecuencia">Frecuencia</label>
                                <input type="text" class="form-control" id="Frecuencia" onchange="updateComponent(this.id)" value="<%=indicador.Frecuencia%>">
                            </div>

                            <div class="form-group">
                            <label for="Observaciones">Observaciones</label>
                                <textarea class="form-control" style="resize: none;" id="Observaciones" onchange="updateComponent(this.id)" rows="3"><%=indicador.Observaciones%></textarea>
                            </div>

                        </form>
                    </div>
                    <div id="divbutton" style=" position: absolute; bottom: 6px; right: 8px;">
                    </div>
                </nav>
            </div>
        </div>


        <!-- jQuery CDN -->
        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <!-- Bootstrap Js CDN -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!-- jQuery Custom Scroller CDN -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>

        <script type="text/javascript">
            $(document).ready(function () {
               

                $('#sidebarCollapse').on('click', function () {
                    $('#sidebar, #content').toggleClass('active');
                    $('.collapse.in').toggleClass('in');
                    $('a[aria-expanded=true]').attr('aria-expanded', 'false');
                });

                $("#divrisk").click(function(){
                     $("#divrisk").toggle("slow","linear");
                });

                $("#buttonrisk").click(function(){
                     $("#divrisk").toggle("slow","linear");
                });


            });
        </script>
        <script src="/scripts/crud.js"></script>
    </body>
</html>